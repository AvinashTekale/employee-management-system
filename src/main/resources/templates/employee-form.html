<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Employee Form</title>
  <link rel="stylesheet" type="text/css" th:href="@{/styles.css}">
</head>
<body>
<h1>Employee Form</h1>

<div th:if="${errorMessage}" class="alert alert-danger">
  <p th:text="${errorMessage}"></p>
</div>

<form th:action="@{/employees/save}" th:object="${employee}" method="post">
  <input type="hidden" th:field="*{id}">

  <label for="firstName">First Name:</label>
  <input type="text" id="firstName" th:field="*{firstName}" required>
  <br>

  <label for="lastName">Last Name:</label>
  <input type="text" id="lastName" th:field="*{lastName}" required>
  <br>

  <label for="email">Email:</label>
  <input type="email" id="email" th:field="*{email}" required>
  <br>

  <label for="contactNo">Contact No:</label>
  <input type="text" id="contactNo" th:field="*{contactNo}" required>
  <br>

  <label for="salary">Salary:</label>
  <input type="number" step="0.01" id="salary" th:field="*{salary}" required>
  <br>

  <label for="department">Department:</label>
  <select id="department" th:field="*{department}" required>
    <option value="">-- Select Department --</option>
    <option th:each="dept : ${departments}" th:value="${dept.id}" th:text="${dept.name}"></option>
  </select>
  <br>

  <label>Projects:</label>
  <div th:each="proj : ${projects}">
    <input type="checkbox" th:value="${proj.id}" th:field="*{projects}">
    <span th:text="${proj.name}"></span>
  </div>
  <br>

  <button type="submit">Save</button>
  <a href="/employees">Cancel</a>
</form>
</body>
</html>
